Задание 1. Анализ, идентификация проблем и решений, планирование

## Список проблем: 
*     Сотрудники долго получают информацию о заказах которые можно взять в работу\
*     Теряются заказы
*     Нет кэша в S3
*     CRM и SHOP висят на одной бд и непонятно что там, разные схемы или нет, возможно они пишут вообще в 1 таблицу 
*     Клиенты B2B ломятся в один сервис вместе с сотрудниками MES
*     Нет мониторинга и логирования
*     Непонятно что с БД, как хранятся данные

Для решения данных проблем предлагаю следующие инициативы расставленные в порядке приоритизации от срочных и важных до менее срочных и не важных.

## Шаги для устранения нежелательных ситуаций:
* Доработка SHOP/MES API чтобы к файлу который указал клиент мы генерировали легковесную превьюшку для отображения в терминале сотрудника, который выбирает какой заказ ему взять. Тогда мы избавимся от большого прогона трафика между MES API и S3 и соответственно скорость загрузки заказов возрастёт.
* Вынести API для клиентов в другой сервис (аналог shop api, только для вендеров) чтобы его задачей было только принятие заказов извне.
* Для быстрого выявления проблемных мест воспользоваться профилирование на стороне сервисов и выявить узкие и проблемные места
* Доработать сервисы и добавить мониторинг и логирование (Prometheus+Grafana+ELK)
* Вынести CRM в отдельный сервис + БД, убрать связь Shop API + DB, сделать так, чтобы Shop и CRM общались через Rabbit MQ. Этот шаг даст нам консистентность данных т.к. не будет двух источников данных изменяющих/читающих данные параллельно друг другу, сервис CRM доработать с учетом горизонтального масштабирования (транзакции и т.д.).
* Кэширование write through перед хранилищем S3 для всех кто ходит за файлами. Время валидации сделать 7 дней потом увеличивать/уменьшать.
* Ревизия всех баз данных для индексирования + нормализации данных.
* Замена Rabbit на Kafka для повышения отказоустойчивости и возможностей в масштабировании нашей системы. 

Топ 3 пункта которые я бы выполнил в ближайшие полгода: 
* Настройка мониторинга и логирования - для отслеживания состояния системы и поиска проблемных мест.
* Оптимизация MES чтобы сотрудники могли быстрее брать и выполнять заказы клиентов (превьюшки)
* Выявить причину пропажи заказов (виновата медленная работа системы или же SHOP и CRM перетирают заказы)

По завершению этих задач хотелось бы увидеть стабильную систему способной держать нагрузки до 1 RPS 
(т.к. через пол года мы ориентируемся на клиентопоток 600 человек в месяц) 
которая позволяет сотрудникам своевременно и без проблем брать заказы и выполнять их, а также % не выполненных заказов не превышал 5%. 
