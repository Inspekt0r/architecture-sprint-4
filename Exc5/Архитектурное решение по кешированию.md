## Анализ

Из полученной схемы видно, что можно сделать кеширование на уровне S3 хранилища для того, чтобы сотрудники на
производстве моментально получали макеты и не ожидали долгой загрузки файлов из хранилища.
Также можно сделать кеширование на стороне магазина т.к. многие карточки товаров у нас статичные (если речь не про
индивидуальные заказы)

# Мотивация

Сотрудники MES системы жалуются на долгие подгрузки, с целью устранения этих долгих подгрузок кеширование макетов
позволит нам гораздо быстрее передавать их в работу.
Кеширование на стороне клиента (B2C) позволит хранить изображения карточек товаров, а также информацию о товаре, которая
явно не будет изменяться быстро т.к. у нас не биржа, а просто магазин ювелирных украшений.

# Предлагаемое решение

Для s3 я уже ранее предлагал сделать кеширование Write-Behind Cache, чтобы файл писался в кеш и потом уже асинхронно мы
сливали данные в хранилище. Такой подход позволит нам сразу иметь кешированные файлы-макеты клиентов для заказов, что
позволит MES системе сразу забирать его в работу и мы не будем тратить время на cache-miss и подгрузку файлов. А также
мы не будем перегружать S3 хранилище. Из рисков: нужно иметь распределенный кеш который при падении одной из нод
продолжил работу и соответственно файлы не потерялись. Из плюсов: мы оптимизировали нагрузку на S3 хранилище и оно не
нагружено.

По кеширование Internet Shop: можно подойди с 2 сторон это серверное cache-aside решение: карточки товаров которые
пользуются спросом, загружаются быстрее и пользователи быстрее получают информацию по популярным товарам. Из минусов:
при
первом обращении придется немного подождать загрузки карточки.
Также можно использовать стратегию client-side кеширования: когда вся статика кешируется у клиента с параметрами
Cache-Control: max-age=3600 который установит TTL 3600сек. И соответственно 60 минут эти данные будут жить у клиента и
нет необходимости каждый раз при запросе ходить к серверу за ними, нужно сделать анализ CJ и посмотреть достаточно ли 60
минут для этого.

"Серебрянной пулей" может стать использование подхода комбинации этих двух стратегий кеширования для улучшения
клиентского опыта, а также оптимизации наших ресурсов.

Более подробно со схемой можно ознакомиться в seq_diagram.puml


